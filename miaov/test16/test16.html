<!DOCTYPE html>
<html>
	<head>
		<meta charset = "utf-8">
		<title>TEST 16</title>
		<style>
			img{
				border: none;
				width: 100px;
				height: 100px;
				position: absolute;
				top: 200px;
			} 
		</style>

		<script src = "function.js"></script>
		<script>

			function shake(obj, attr, endFn) {
				var arr = [];
				var num = 0;
				//var pos = parseInt(getStyle(obj, attr));
				//alert(1);

				for (var i = 20; i >= 0; i-=2) {
					arr.push(i, -i);
				}
				arr.push(0);

				clearInterval(obj.shake);

				obj.shake = setInterval(function(){
					obj.style[attr] =obj.pos + arr[num] + "px";
					num++;
					if(num === arr.length) {
						clearInterval(obj.shake);
						num = 0;
						endFn && endFn();
					}
				}, 50);
			}


			window.onload = function() {
				var oImg = document.getElementsByTagName("img");

				for (var i = 0; i < oImg.length; i++){
					oImg[i].style.left = 80 + i * 110 + "px";
					oImg[i].pos = parseInt(getStyle(oImg[i], "top"));
					oImg[i].onmouseover = function() {
						shake(this, "top");
					}
				}
			};

		</script>
	</head>
	<body>
		<div id = "box">
			<img src = "images/1.jpg">
			<img src = "images/2.jpg">
			<img src = "images/3.jpg">
			<img src = "images/4.jpg">
			<img src = "images/5.jpg">
			<img src = "images/6.jpg">
			<img src = "images/7.jpg">
			<img src = "images/8.jpg">
		</div>
	</body>
</html>