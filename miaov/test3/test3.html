<!DOCTYPE html>
<head>
	<meta charset = "utf-8">
	<title>TEST 3</title>
	<style>
		body, div, input, textarea {
			margin: 0;
			padding: 0;
		} 
		a {
			text-align: none;
		}
		a:hover {
			text-align: none;
		}

		#body {
			width: 290px;
			height: 510px;
			margin: 10px auto;
			padding-top: 86px;
			background: url("images/bg.png") no-repeat;
		}

		#body #box {
			width: 238px;
			height: 420px;
			margin-left: 20px;
			border: solid black 4px;
			background: #ffffff;
			overflow: hidden;
		}

		#body #content {
			width: 100%;
			height: 350px;
			padding-top: 10px;
			padding-bottom: 10px;
		}

		#content .left, #content .right  {
			width: 100%;
			float: left;
			margin-bottom: 6px;
			white-space: normal;
			word-wrap: break-word;
		}

		#content .left .imgBox {
			width: 40px;
			text-align: center;
			float: left;
		}
		#content .left .cont-mess {
			max-width: 174px;
			padding: 4px;
			background-color: #ded6e7;
			font: 12px/18px "Microsoft Yahei";
			color: #000;
			float: left;
		}

		#content .right .imgBox {
			width: 40px;
			text-align: center;
			float: right;
		}
		#content .right .cont-mess {
			max-width: 174px;
			padding: 4px;
			background-color: #21c618;
			font: 12px/18px "Microsoft Yahei";
			color: #fff;
			float: right;
		}
		

		#ctrl {
			width: 231px;
			height: 37px;
			padding: 7px 0 4px 5px;
			border: 1px solid #bdcec6;
			background-color: #f7f7f7;
		}

		#face {
			width: 30px;
			height: 28px;
			margin-right: 5px;
			padding-top: 6px;
			border: 1px solid #ded6e7;
			border-radius: 5px;
			background-color: #fff;
			text-align: center;
			cursor: pointer;
			float: left;
		}

		#message {
			width: 140px;
			height: 34px;
			border: 1px solid #ded6e7;
			border-radius: 5px;
			font: 16px/34px "Microsoft Yahei";
			float: left;
			resize: none;
			overflow: hidden;
		}

		#send {
			width: 52px;
			height: 36px;
			font: 20px "Microsoft Yahei";
			color: #8c8494;
			border: none;
			background-color: #f7f7f7;
			text-align: center;
			vertical-align: middle;
			float: left;
			cursor: pointer;
			outline: none;
		}
		.radius {
			border-radius: 5px;
		}
	</style>

	<script type="text/javascript" src = "jquery/jquery-1.12.2.js">
	</script>

	<script>
		$(function(){
			var $onBtn = true;

			$("#face").click(function(){
				if ($onBtn) {
					$(this).find("img").attr("src", "images/face2.png");
				} else {
					$(this).find("img").attr("src", "images/face1.png");
				}
				
				$onBtn = ! $onBtn;
			});

			$("#send").click(function(){
				var $mess = $("#message").val();

				$("#message").val("");

				if ($mess) {
					if ($onBtn) {
						var $div = $("<div class = 'right'></div>");
						var $box = $("<div class = 'imgBox'></div>");
						var $img = $("<img src = 'images/face1.png'>");;
						var $contMess = $("<div class = 'cont-mess radius'>" + $mess + "</div>");

						$div.append($box);
						$box.append($img);
						$div.append($contMess);

						$("#content").prepend($div);
					} else {
						var $div = $("<div class = 'left'></div>");
						var $box = $("<div class = 'imgBox'></div>");
						var $img = $("<img src = 'images/face2.png'>");;
						var $contMess = $("<div class = 'cont-mess radius'>" + $mess + "</div>");

						$div.append($box);
						$box.append($img);
						$div.append($contMess);

						$("#content").prepend($div);
					}
				} else {
					alert("请输入内容再发送");
				}
			});
		});
	</script>
</head>

<body>
	<div id = "body">
		<div id = "box">
			<div id = "content">
 				<!-- <div class = "right">
					<div class = "imgBox">
						<img src = "images/face1.png">
					</div>
					<div class = "cont-mess"></div>
				</div> -->

				<!-- <div class = "left">
					<div class = "imgBox">
						<img src = "images/face2.png">
					</div>
					<div class = "cont-mess"></div>
				</div> -->
			</div> 

			<div id = "ctrl">
				<div id = "face">
					<img class = "img" src= "images/face1.png">
					<!-- <img class = "img" src= "images/face2.png"> -->
				</div>

				<textarea id = "message"></textarea>
				<input id = "send" type = "button" value = "发送">
			</div>

		</div>
	</div>
</body>